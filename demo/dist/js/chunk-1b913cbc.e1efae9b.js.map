{"version":3,"sources":["webpack:///./demo/map-load-demo.vue?41be","webpack:///./node_modules/ol/uri.js","webpack:///./node_modules/ol/source/TileArcGISRest.js","webpack:///demo/map-load-demo.vue","webpack:///./demo/map-load-demo.vue?f60d","webpack:///./demo/map-load-demo.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./demo/map-load-demo.vue?ed1d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","setMap","model","value","callback","$$v","areaId","expression","_l","item","key","attrs","labal","staticRenderFns","appendParams","uri","params","keyParams","Object","keys","forEach","k","undefined","push","encodeURIComponent","qs","join","replace","indexOf","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","_super","TileArcGISRest","opt_options","_this","options","call","attributions","cacheSize","crossOrigin","projection","reprojectionErrorThreshold","tileGrid","tileLoadFunction","tileUrlFunction","url","urls","wrapX","transition","params_","hidpi_","hidpi","tmpExtent_","setKey","getKeyForParams_","i","res","getParams","getRequestUrl_","tileCoord","tileSize","tileExtent","pixelRatio","srid","getCode","split","pop","Math","round","length","index","modifiedUrl","getTilePixelRatio","updateParams","TileImage","getTileGrid","getTileGridForProjection","getResolutions","getTileCoordExtent","getTileSize","tmpSize","baseParams","name","data","areaSet","mapObject","layers","computed","area","mounted","$emit","initMap","methods","target","view","View","center","zoom","minZoom","maxZoom","popupOffset","setView","component","$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","proto","forced","callbackfn","arguments"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,GAAG,CAAC,OAASP,EAAIQ,QAAQC,MAAM,CAACC,MAAOV,EAAU,OAAEW,SAAS,SAAUC,GAAMZ,EAAIa,OAAOD,GAAKE,WAAW,WAAWd,EAAIe,GAAIf,EAAW,SAAE,SAASgB,GAAM,OAAOZ,EAAG,YAAY,CAACa,IAAID,EAAKN,MAAMQ,MAAM,CAAC,MAAQF,EAAKN,MAAM,MAAQM,EAAKG,YAAW,IAAI,GAAGf,EAAG,MAAM,CAACE,YAAY,MAAMY,MAAM,CAAC,GAAK,YACrbE,EAAkB,G,qKCUf,SAASC,EAAaC,EAAKC,GAC9B,IAAIC,EAAY,GAEhBC,OAAOC,KAAKH,GAAQI,SAAQ,SAAUC,GAChB,OAAdL,EAAOK,SAA6BC,IAAdN,EAAOK,IAC7BJ,EAAUM,KAAKF,EAAI,IAAMG,mBAAmBR,EAAOK,QAG3D,IAAII,EAAKR,EAAUS,KAAK,KAKxB,OAHAX,EAAMA,EAAIY,QAAQ,QAAS,IAE3BZ,GAA4B,IAAtBA,EAAIa,QAAQ,KAAcb,EAAM,IAAMA,EAAM,IAC3CA,EAAMU,ECrBjB,IAAII,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBZ,OAAOe,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO5C,KAAK6C,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAad,OAAOuB,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAoExC,EAAgC,SAAUI,GAK1C,SAASC,EAAeC,GACpB,IAAIC,EAAQnD,KACRoD,EAAUF,GAA4B,GA+B1C,OA9BAC,EAAQH,EAAOK,KAAKrD,KAAM,CACtBsD,aAAcF,EAAQE,aACtBC,UAAWH,EAAQG,UACnBC,YAAaJ,EAAQI,YACrBC,WAAYL,EAAQK,WACpBC,2BAA4BN,EAAQM,2BACpCC,SAAUP,EAAQO,SAClBC,iBAAkBR,EAAQQ,iBAC1BC,gBAAiBA,EACjBC,IAAKV,EAAQU,IACbC,KAAMX,EAAQW,KACdC,WAAyBpC,IAAlBwB,EAAQY,OAAsBZ,EAAQY,MAC7CC,WAAYb,EAAQa,cAClBjE,KAKNmD,EAAMe,QAAUd,EAAQ9B,QAAU,GAKlC6B,EAAMgB,YAA2BvC,IAAlBwB,EAAQgB,OAAsBhB,EAAQgB,MAKrDjB,EAAMkB,WAAa,iBACnBlB,EAAMmB,OAAOnB,EAAMoB,oBACZpB,EAyEX,OA9GAhB,EAAUc,EAAgBD,GA2C1BC,EAAeH,UAAUyB,iBAAmB,WACxC,IAAIC,EAAI,EACJC,EAAM,GACV,IAAK,IAAIzD,KAAOhB,KAAKkE,QACjBO,EAAID,KAAOxD,EAAM,IAAMhB,KAAKkE,QAAQlD,GAExC,OAAOyD,EAAIzC,KAAK,MAQpBiB,EAAeH,UAAU4B,UAAY,WACjC,OAAO1E,KAAKkE,SAYhBjB,EAAeH,UAAU6B,eAAiB,SAAUC,EAAWC,EAAUC,EAAYC,EAAYtB,EAAYnC,GACzG,IAAIyC,EAAO/D,KAAK+D,KAChB,GAAKA,EAAL,CAIA,IAMID,EANAkB,EAAOvB,EAAWwB,UAAUC,MAAM,KAAKC,MAO3C,GANA7D,EAAO,QAAUuD,EAAS,GAAK,IAAMA,EAAS,GAC9CvD,EAAO,QAAUwD,EAAW9C,KAAK,KACjCV,EAAO,UAAY0D,EACnB1D,EAAO,WAAa0D,EACpB1D,EAAO,OAAS8D,KAAKC,MAAM/D,EAAO,OAASA,EAAO,OAASyD,EAAa,GAAKA,GAE1D,GAAfhB,EAAKuB,OACLxB,EAAMC,EAAK,OAEV,CACD,IAAIwB,EAAQ,eAAO,eAAcX,GAAYb,EAAKuB,QAClDxB,EAAMC,EAAKwB,GAEf,IAAIC,EAAc1B,EACb7B,QAAQ,gBAAiB,oBACzBA,QAAQ,kBAAmB,2BAChC,OAAOb,EAAaoE,EAAalE,KAKrC2B,EAAeH,UAAU2C,kBAAoB,SAAUV,GACnD,OAAO/E,KAAKmE,OAA+B,EAAe,GAO9DlB,EAAeH,UAAU4C,aAAe,SAAUpE,GAC9C,eAAOtB,KAAKkE,QAAS5C,GACrBtB,KAAKsE,OAAOtE,KAAKuE,qBAEdtB,EA/GwB,CAgHjC0C,EAAA,MAQF,SAAS9B,EAAgBe,EAAWG,EAAYtB,GAC5C,IAAIE,EAAW3D,KAAK4F,cAIpB,GAHKjC,IACDA,EAAW3D,KAAK6F,yBAAyBpC,MAEzCE,EAASmC,iBAAiBR,QAAUV,EAAU,IAAlD,CAGkB,GAAdG,GAAoB/E,KAAKmE,SACzBY,EAAa,GAEjB,IAAID,EAAanB,EAASoC,mBAAmBnB,EAAW5E,KAAKqE,YACzDQ,EAAW,eAAOlB,EAASqC,YAAYpB,EAAU,IAAK5E,KAAKiG,SAC7C,GAAdlB,IACAF,EAAW,eAAUA,EAAUE,EAAY/E,KAAKiG,UAGpD,IAAIC,EAAa,CACb,EAAK,QACL,OAAU,QACV,aAAe,GAGnB,OADA,eAAOA,EAAYlG,KAAKkE,SACjBlE,KAAK2E,eAAeC,EAAWC,EAAUC,EAAYC,EAAYtB,EAAYyC,IAEzE,Q,wBC1Lf,G,UAAA,CACEC,KAAM,cACNC,KAFF,WAGI,MAAO,CACLxF,OAAQ,wBACRyF,QAAN,CACA,CACQ,MAAR,0BACQ,MAAR,eACQ,KAAR,4FACQ,KAAR,GACQ,OAAR,uBACQ,QAAR,QAEA,CACQ,MAAR,uBACQ,MAAR,eACQ,KAAR,CACA,uEACA,8EAEQ,KAAR,GACQ,OAAR,mBACQ,QAAR,GAEA,CACQ,MAAR,gCACQ,MAAR,kBACQ,KAAR,CACA,wEACA,8EAEQ,KAAR,GACQ,OAAR,mBACQ,QAAR,GAEA,CACQ,MAAR,wBACQ,MAAR,eACQ,KAAR,wFACQ,KAAR,GACQ,OAAR,mBACQ,QAAR,SAGMC,UAAN,KACMC,OAAN,KAGEC,SAAF,CACIC,KADJ,WAEM,OAAO,EAAb,2CAGEC,QAtDF,WAuDI1G,KAAK2G,MAAM,UAAW,2BACtB3G,KAAK2G,MAAM,UAAW,kFAGtB3G,KAAK4G,UACL5G,KAAKO,UAEPsG,QAAF,CAIID,QAJJ,WAKM,IAAN,cACQE,OAAQ,QAGV9G,KAAKsG,UAAYA,GAEnB/F,OAXJ,WAYM,GAAN,6CACA,aADA,IACA,0CACA,+BAFA,8BAIQP,KAAKuG,OAAS,GALtB,uBAOA,gBAPA,IAOA,0CACA,cACA,8BACA,UAGA,oBACA,4BAdA,8BAiBMvG,KAAK+G,KAAO,IAAIC,EAAtB,MACQC,OAAR,iBACQC,KAAR,eACQC,QAAR,EACQC,QAAS,GACTC,YAAa,CAAC,EAAG,GACjB5D,WAAY,cAEdzD,KAAKsG,UAAUgB,QAAQtH,KAAK+G,UChIsS,I,wBCQpUQ,EAAY,eACd,EACAzH,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAoG,E,6CClBf,IAAIC,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAAgCC,KAChDC,EAAmB,EAAQ,QAC3BC,EAA0B,EAAQ,QAElCC,EAAO,OACPC,GAAc,EAEdC,EAAiBH,EAAwBC,GAGzCA,IAAQ,IAAIpF,MAAM,GAAGoF,IAAM,WAAcC,GAAc,KAI3DN,EAAE,CAAEV,OAAQ,QAASkB,OAAO,EAAMC,OAAQH,IAAgBC,GAAkB,CAC1EL,KAAM,SAAcQ,GAClB,OAAOT,EAAMzH,KAAMkI,EAAYC,UAAU7C,OAAS,EAAI6C,UAAU,QAAKvG,MAKzE+F,EAAiBE,I,yDCvBjB,yBAAyhB,EAAG","file":"js/chunk-1b913cbc.e1efae9b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',[_c('el-select',{on:{\"change\":_vm.setMap},model:{value:(_vm.areaId),callback:function ($$v) {_vm.areaId=$$v},expression:\"areaId\"}},_vm._l((_vm.areaSet),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.labal}})}),1)],1),_c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module ol/uri\n */\n/**\n * Appends query parameters to a URI.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {!Object} params An object where keys are URI-encoded parameter keys,\n *     and the values are arbitrary types or arrays.\n * @return {string} The new URI.\n */\nexport function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n        if (params[k] !== null && params[k] !== undefined) {\n            keyParams.push(k + '=' + encodeURIComponent(params[k]));\n        }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n}\n//# sourceMappingURL=uri.js.map","/**\n * @module ol/source/TileArcGISRest\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createEmpty } from '../extent.js';\nimport { modulo } from '../math.js';\nimport { assign } from '../obj.js';\nimport { toSize, scale as scaleSize } from '../size.js';\nimport TileImage from './TileImage.js';\nimport { hash as tileCoordHash } from '../tilecoord.js';\nimport { appendParams } from '../uri.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {number} [cacheSize] Tile cache size. The default depends on the screen size. Will be ignored if too small.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {Object<string,*>} [params] ArcGIS Rest parameters. This field is optional. Service defaults will be\n * used for any fields not specified. `FORMAT` is `PNG32` by default. `F` is `IMAGE` by\n * default. `TRANSPARENT` is `true` by default.  `BBOX`, `SIZE`, `BBOXSR`,\n * and `IMAGESR` will be set dynamically. Set `LAYERS` to\n * override the default service layer visibility. See\n * http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#/Export_Map/02r3000000v7000000/\n * for further reference.\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\n * the image from the remote server.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid. Base this on the resolutions,\n * tilesize and extent supported by the server.\n * If this is not defined, a default grid will be used: if there is a projection\n * extent, the grid will be based on that; if not, a grid based on a global\n * extent with origin at 0,0 will be used.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL.\n * The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {string} [url] ArcGIS Rest service URL for a Map Service or Image Service. The\n * url should include /MapServer or /ImageServer.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number} [transition] Duration of the opacity transition for rendering.  To disable the opacity\n * transition, pass `transition: 0`.\n * @property {Array<string>} [urls] ArcGIS Rest service urls. Use this instead of `url` when the ArcGIS\n * Service supports multiple urls for export requests.\n */\n/**\n * @classdesc\n * Layer source for tile data from ArcGIS Rest services. Map and Image\n * Services are supported.\n *\n * For cached ArcGIS services, better performance is available using the\n * {@link module:ol/source/XYZ~XYZ} data source.\n * @api\n */\nvar TileArcGISRest = /** @class */ (function (_super) {\n    __extends(TileArcGISRest, _super);\n    /**\n     * @param {Options=} opt_options Tile ArcGIS Rest options.\n     */\n    function TileArcGISRest(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            projection: options.projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileGrid: options.tileGrid,\n            tileLoadFunction: options.tileLoadFunction,\n            tileUrlFunction: tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition\n        }) || this;\n        /**\n         * @private\n         * @type {!Object}\n         */\n        _this.params_ = options.params || {};\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        _this.tmpExtent_ = createEmpty();\n        _this.setKey(_this.getKeyForParams_());\n        return _this;\n    }\n    /**\n     * @private\n     * @return {string} The key for the current params.\n     */\n    TileArcGISRest.prototype.getKeyForParams_ = function () {\n        var i = 0;\n        var res = [];\n        for (var key in this.params_) {\n            res[i++] = key + '-' + this.params_[key];\n        }\n        return res.join('/');\n    };\n    /**\n     * Get the user-provided params, i.e. those passed to the constructor through\n     * the \"params\" option, and possibly updated using the updateParams method.\n     * @return {Object} Params.\n     * @api\n     */\n    TileArcGISRest.prototype.getParams = function () {\n        return this.params_;\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../size.js\").Size} tileSize Tile size.\n     * @param {import(\"../extent.js\").Extent} tileExtent Tile extent.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {Object} params Params.\n     * @return {string|undefined} Request URL.\n     * @private\n     */\n    TileArcGISRest.prototype.getRequestUrl_ = function (tileCoord, tileSize, tileExtent, pixelRatio, projection, params) {\n        var urls = this.urls;\n        if (!urls) {\n            return undefined;\n        }\n        // ArcGIS Server only wants the numeric portion of the projection ID.\n        var srid = projection.getCode().split(':').pop();\n        params['SIZE'] = tileSize[0] + ',' + tileSize[1];\n        params['BBOX'] = tileExtent.join(',');\n        params['BBOXSR'] = srid;\n        params['IMAGESR'] = srid;\n        params['DPI'] = Math.round(params['DPI'] ? params['DPI'] * pixelRatio : 90 * pixelRatio);\n        var url;\n        if (urls.length == 1) {\n            url = urls[0];\n        }\n        else {\n            var index = modulo(tileCoordHash(tileCoord), urls.length);\n            url = urls[index];\n        }\n        var modifiedUrl = url\n            .replace(/MapServer\\/?$/, 'MapServer/export')\n            .replace(/ImageServer\\/?$/, 'ImageServer/exportImage');\n        return appendParams(modifiedUrl, params);\n    };\n    /**\n     * @inheritDoc\n     */\n    TileArcGISRest.prototype.getTilePixelRatio = function (pixelRatio) {\n        return this.hidpi_ ? /** @type {number} */ (pixelRatio) : 1;\n    };\n    /**\n     * Update the user-provided params.\n     * @param {Object} params Params.\n     * @api\n     */\n    TileArcGISRest.prototype.updateParams = function (params) {\n        assign(this.params_, params);\n        this.setKey(this.getKeyForParams_());\n    };\n    return TileArcGISRest;\n}(TileImage));\n/**\n * @param {import(\"../tilecoord.js\").TileCoord} tileCoord The tile coordinate\n * @param {number} pixelRatio The pixel ratio\n * @param {import(\"../proj/Projection.js\").default} projection The projection\n * @return {string|undefined} The tile URL\n * @this {TileArcGISRest}\n */\nfunction tileUrlFunction(tileCoord, pixelRatio, projection) {\n    var tileGrid = this.getTileGrid();\n    if (!tileGrid) {\n        tileGrid = this.getTileGridForProjection(projection);\n    }\n    if (tileGrid.getResolutions().length <= tileCoord[0]) {\n        return undefined;\n    }\n    if (pixelRatio != 1 && !this.hidpi_) {\n        pixelRatio = 1;\n    }\n    var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\n    var tileSize = toSize(tileGrid.getTileSize(tileCoord[0]), this.tmpSize);\n    if (pixelRatio != 1) {\n        tileSize = scaleSize(tileSize, pixelRatio, this.tmpSize);\n    }\n    // Apply default params and override with user specified values.\n    var baseParams = {\n        'F': 'image',\n        'FORMAT': 'PNG32',\n        'TRANSPARENT': true\n    };\n    assign(baseParams, this.params_);\n    return this.getRequestUrl_(tileCoord, tileSize, tileExtent, pixelRatio, projection, baseParams);\n}\nexport default TileArcGISRest;\n//# sourceMappingURL=TileArcGISRest.js.map","<template>\r\n  <div class=\"wrapper\">\r\n    <div>\r\n      <el-select\r\n        v-model=\"areaId\"\r\n        @change=\"setMap\"\r\n      >\r\n        <el-option\r\n          v-for=\"item in areaSet\"\r\n          :key=\"item.value\"\r\n          :value=\"item.value\"\r\n          :label=\"item.labal\"\r\n        />\r\n      </el-select>\r\n    </div>\r\n    <div\r\n      id=\"map\"\r\n      class=\"map\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\nimport 'ol/ol.css';\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport {OSM, XYZ, Vector as VectorSource, Cluster, TileArcGISRest} from 'ol/source';\r\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\r\nimport {transform} from 'ol/proj';\r\nexport default {\r\n  name: 'MapLoadDemo',\r\n  data(){\r\n    return {\r\n      areaId: 'xiamenFromPoliceVideo',\r\n      areaSet:[\r\n        {\r\n          value: 'chongqingFromJimeiVideo',\r\n          labal: '重庆(集美视频网服务器）',\r\n          urls: ['http://192.168.212.157:3000/mapGisCQ/mapImage?base=base&imgFormat=png&z={z}&x={x}&y={y}'],\r\n          zoom: 13,\r\n          center: [106.261435, 29.311821],\r\n          mapType: OSM\r\n        },\r\n        {\r\n          value: 'xiamenFromJimeiVideo',\r\n          labal: '厦门(集美视频网服务器）',\r\n          urls: [\r\n            'http://192.168.212.157:3000/arcgis/rest/services/XMJM_2000/MapServer',\r\n            'http://192.168.212.157:3000/arcgis/rest/services/XMMAP_CVA_C2000/MapServer', // 地名\r\n          ],\r\n          zoom: 13,\r\n          center: [118.0934, 24.5418],\r\n          mapType: TileArcGISRest\r\n        },\r\n        {\r\n          value: 'xiamenSatelliteFromJimeiVideo',\r\n          labal: '厦门卫星图(集美视频网服务器）',\r\n          urls: [\r\n            'http://192.168.212.157:3000/arcgis/rest/services/XMMAP_2000/MapServer',\r\n            'http://192.168.212.157:3000/arcgis/rest/services/XMMAP_CVA_C2000/MapServer', // 地名\r\n          ],\r\n          zoom: 13,\r\n          center: [118.0934, 24.5418],\r\n          mapType: TileArcGISRest\r\n        },\r\n        {\r\n          value: 'xiamenFromPoliceVideo',\r\n          labal: '厦门(市局视频网服务器）',\r\n          urls: ['http://35.48.98.202:7000/mapImageServer/showElecPic?imgFormat=png&x={x}&y={y}&z={z}'],\r\n          zoom: 13,\r\n          center: [118.0934, 24.5418],\r\n          mapType: XYZ\r\n        },\r\n      ],\r\n      mapObject:null,\r\n      layers:[],\r\n    };\r\n  },\r\n  computed:{\r\n    area(){\r\n      return _.find(this.areaSet, {value: this.areaId});\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$emit('setCode', '/demo/map-load-demo.vue');\r\n    this.$emit('setInfo', `<p>厦门、重庆地图瓦片加载 (demo/map-load-demo.vue)</p>\r\n      <p>该demo瓦片在视频网环境下</p>\r\n    `);\r\n    this.initMap();\r\n    this.setMap();\r\n  },\r\n  methods:{\r\n    /**\r\n     * 初始化地图\r\n     */\r\n    initMap() {\r\n      let mapObject = new Map({\r\n        target: 'map',\r\n      });\r\n      // 用RKMap加载地图，其他用原生开发\r\n      this.mapObject = mapObject;\r\n    },\r\n    setMap(){\r\n      if(this.layers.length > 0){\r\n        for(let layer of this.layers){\r\n          this.mapObject.removeLayer(layer);\r\n        }\r\n        this.layers = [];\r\n      }\r\n      for(let url of this.area.urls){\r\n        let layer = new TileLayer({\r\n          source: new this.area.mapType({\r\n            url: url\r\n          })\r\n        });\r\n        this.layers.push(layer);\r\n        this.mapObject.addLayer(layer);\r\n      }\r\n\r\n      this.view = new View({\r\n        center:this.area.center,\r\n        zoom:this.area.zoom,\r\n        minZoom : 9, // 最小缩放层级\r\n        maxZoom: 19, // 最大缩放层级\r\n        popupOffset: [0, 0], // 设置弹框偏移量\r\n        projection: 'EPSG:4326',\r\n      });\r\n      this.mapObject.setView(this.view);\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .wrapper{\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    min-height: 500px;\r\n  }\r\n  .map{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-load-demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-load-demo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./map-load-demo.vue?vue&type=template&id=37fdc905&scoped=true&\"\nimport script from \"./map-load-demo.vue?vue&type=script&lang=js&\"\nexport * from \"./map-load-demo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map-load-demo.vue?vue&type=style&index=0&id=37fdc905&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37fdc905\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-load-demo.vue?vue&type=style&index=0&id=37fdc905&scoped=true&lang=less&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-load-demo.vue?vue&type=style&index=0&id=37fdc905&scoped=true&lang=less&\""],"sourceRoot":""}