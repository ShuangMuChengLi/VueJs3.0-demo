{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/public/view-pic-dialog/view-pic-dialog.vue?a576","webpack:///./demo/view-pic-dialog-demo.vue?185f","webpack:///./src/public/view-pic-dialog/view-pic-dialog.vue?e2d1","webpack:///./src/public/view-pic-dialog/selection-picture.vue?4179","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///src/public/view-pic-dialog/selection-picture.vue","webpack:///./src/public/view-pic-dialog/selection-picture.vue?3618","webpack:///./src/public/view-pic-dialog/selection-picture.vue","webpack:///src/public/view-pic-dialog/view-pic-dialog.vue","webpack:///./src/public/view-pic-dialog/view-pic-dialog.vue?3b8d","webpack:///./src/public/view-pic-dialog/view-pic-dialog.vue","webpack:///demo/view-pic-dialog-demo.vue","webpack:///./demo/view-pic-dialog-demo.vue?b781","webpack:///./demo/view-pic-dialog-demo.vue","webpack:///./demo/img/car.jpg"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","render","_vm","this","_h","$createElement","_c","_self","attrs","bigPicVisible","index","tableData","on","$event","_v","staticRenderFns","staticClass","dialogVisible","cancel","currentItem","nonMotorLayout","_s","vehicleType","_e","plateNumber","passTime","passPortName","util","beyondShowDot","brandName","staticStyle","prev","next","unreal","isTrack","style","canvasWidth","canvasHeight","type","indexOf","_k","keyCode","key","button","preventDefault","mousedown","mousemove","mouseup","clear","isMultiSelecter","regionDataUrl","targetWidth","_arrayWithHoles","_iterableToArrayLimit","i","_arr","_n","_d","undefined","_i","done","push","value","length","err","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","props","default","data","platePosition","canvas","ctx","offCanvas","offCtx","preCanvas","preCtx","img","drawing","beginDrawPoint","drawingPoint","centerPoint","rectWidthHeight","regionResultList","toPositionArray","computed","canvasStyle","watch","src","immediate","handler","init","created","mounted","methods","getRegionPosition","regionPosition","plateRectLeft","plateRectTop","reset","$emit","initCanvasWidthHeight","width","imgWidth","imgHeight","height","initCanvas","document","getElementById","getContext","createElement","strokeStyle","lineWidth","drawImage","drawToRealCanvasFromOffCanvas","getMagnifyImage","e","offsetX","offsetY","draw","tempCtx","getBeginEndPoint","tempCanvas","tempBeginPoint","toDataURL","parseInt","toPosition","getTempCanvas","rate","OFFSET","tempEndPoint","strokeWidth","component","name","components","Number","Boolean","isShowFooter","currentIndex","carColor","list","visible","module","exports"],"mappings":"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","file":"js/chunk-7e600bdc.3ced5909.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-pic-dialog.vue?vue&type=style&index=0&id=352a7a8e&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-pic-dialog.vue?vue&type=style&index=0&id=352a7a8e&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('view-pic-dialog',{attrs:{\"visible\":_vm.bigPicVisible,\"index\":_vm.index,\"list\":_vm.tableData},on:{\"update:visible\":function($event){_vm.bigPicVisible=$event}}}),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.bigPicVisible = !_vm.bigPicVisible}}},[_vm._v(\" 显示弹窗 \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"common-table view-pic-dialog\",attrs:{\"title\":\"查看图片\",\"width\":\"1200px\",\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.cancel}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"pic-wrapper\"},[_c('selection-picture',{attrs:{\"src\":_vm.currentItem && _vm.currentItem['src'],\"region-position\":_vm.currentItem,\"is-hover-trigger\":true,\"width\":570,\"height\":509,\"target-width\":570,\"is-init\":true}})],1),_c('div',{staticClass:\"info\"},[_c('ul',{staticClass:\"info-list clearfix\"},[(_vm.nonMotorLayout === 'nonMotor')?_c('li',{staticClass:\"info-item\"},[_c('span',{staticClass:\"info-title\"},[_vm._v(\"车辆类型：\")]),_c('span',[_vm._v(_vm._s(_vm.currentItem.vehicleType))])]):_vm._e(),(_vm.nonMotorLayout === 'all')?_c('li',{staticClass:\"info-item\"},[_c('span',{staticClass:\"info-title\"},[_vm._v(\"车牌号码：\")]),_c('span',[_vm._v(_vm._s(_vm.currentItem.plateNumber))])]):_vm._e(),(_vm.nonMotorLayout === 'nonMotor' || _vm.nonMotorLayout === 'all')?_c('li',{staticClass:\"info-item\"},[_c('span',{staticClass:\"info-title\"},[_vm._v(\"过车时间：\")]),_c('span',[_vm._v(_vm._s(_vm.currentItem.passTime))])]):_vm._e(),(_vm.nonMotorLayout === 'nonMotor' || _vm.nonMotorLayout === 'all')?_c('li',{staticClass:\"info-item\"},[_c('span',{staticClass:\"info-title\"},[_vm._v(\"点位：\")]),_c('span',{attrs:{\"title\":_vm.currentItem.passPortName}},[_vm._v(_vm._s(_vm.util.beyondShowDot(_vm.currentItem.passPortName, 20)))])]):_vm._e(),(_vm.nonMotorLayout === 'all')?_c('li',{staticClass:\"info-item\"},[_c('span',{staticClass:\"info-title\"},[_vm._v(\"车辆品牌：\")]),_c('span',[_vm._v(_vm._s(_vm.currentItem.brandName)+\" \")])]):_vm._e(),(_vm.nonMotorLayout === 'all')?_c('li',{staticClass:\"info-item\"},[_c('span',{staticClass:\"info-title\"},[_vm._v(\"车身颜色：\")]),_c('span',{staticClass:\"color-block\",staticStyle:{\"background-color\":\"#fff\"}}),_c('span')]):_vm._e(),(_vm.nonMotorLayout === 'all')?_c('li',{staticClass:\"info-item\"},[_c('span',{staticClass:\"info-title\"},[_vm._v(\"车辆类型：\")]),_c('span',[_vm._v(_vm._s(_vm.currentItem.vehicleType))])]):_vm._e()])])]),(_vm.isShowFooter)?_c('footer',{staticClass:\"footer\"},[_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.prev}},[_vm._v(\" 上一条 \")]),_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\" 下一条 \")]),_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"}},[_vm._v(\" 以图搜车 \")]),_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"}},[_vm._v(\" 下载图片 \")]),(!_vm.unreal)?_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"}},[_vm._v(\" 违章检测 \")]):_vm._e(),(!_vm.isTrack)?_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"}},[_vm._v(\" 轨迹重现 \")]):_vm._e(),(_vm.unreal)?_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"}},[_vm._v(\" 加入假套牌车库 \")]):_vm._e(),(_vm.unreal)?_c('el-button',{staticClass:\"footer-btn\",attrs:{\"type\":\"primary\"}},[_vm._v(\" 布控详情 \")]):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"canvas-box\"},[_c('canvas',{staticClass:\"open-3D\",style:(_vm.canvasStyle),attrs:{\"id\":\"canvas\",\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.preventDefault();return _vm.mousedown($event)},\"mousemove\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.preventDefault();return _vm.mousemove($event)},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.preventDefault();return _vm.mouseup($event)},\"mouseleave\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }$event.preventDefault();return _vm.mouseup($event)},\"contextmenu\":function($event){$event.preventDefault();return _vm.clear($event)}}}),(_vm.platePosition)?_c('span',{staticClass:\"region-style\",style:(_vm.platePosition)}):_vm._e()])]),(!_vm.isMultiSelecter)?_c('div',{staticClass:\"right\"},[_c('img',{attrs:{\"src\":_vm.regionDataUrl,\"width\":_vm.targetWidth}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<!--图片放大  框选组件 -->\r\n<template>\r\n  <div class=\"clearfix\">\r\n    <div class=\"left\">\r\n      <div class=\"canvas-box\">\r\n        <canvas\r\n          id=\"canvas\"\r\n          :width=\"canvasWidth\"\r\n          :height=\"canvasHeight\"\r\n          class=\"open-3D\"\r\n          :style=\"canvasStyle\"\r\n          @mousedown.left.prevent=\"mousedown\"\r\n          @mousemove.left.prevent=\"mousemove\"\r\n          @mouseup.left.prevent=\"mouseup\"\r\n          @mouseleave.left.prevent=\"mouseup\"\r\n          @contextmenu.prevent=\"clear\"\r\n        />\r\n        <span\r\n          v-if=\"platePosition\"\r\n          class=\"region-style\"\r\n          :style=\"platePosition\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div\r\n      v-if=\"!isMultiSelecter\"\r\n      class=\"right\"\r\n    >\r\n      <!--<div class=\"right\">-->\r\n      <img\r\n        :src=\"regionDataUrl\"\r\n        :width=\"targetWidth\"\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    'width':{\r\n      type:Number,\r\n      default:0\r\n    },\r\n    'height':{\r\n      type:Number,\r\n      default:0\r\n    },\r\n    'src':{\r\n      type:String,\r\n      default:null\r\n    },\r\n    // 是否鼠标hover就触发放大效果\r\n    'isHoverTrigger':{\r\n      type:Boolean,\r\n      default:false\r\n    },\r\n    // 是否初始化放大某个点\r\n    'isInit':{\r\n      type:Boolean,\r\n      default:false\r\n    },\r\n    'targetWidth':{\r\n      type:Number,\r\n      default:null\r\n    },\r\n    // 多选\r\n    'isMultiSelecter':{\r\n      type:Boolean,\r\n      default:false\r\n    },\r\n    //当前车辆的所有信息\r\n    'regionPosition':{\r\n      type:Object,\r\n      default:()=>{\r\n        return null;\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      platePosition:null, //车牌框选位置\r\n      canvas: null, // 在线画布\r\n      ctx: null,\r\n\r\n      offCanvas: null, // 离线画布：在内存中的画布，一系列操作后，将整个离线画布渲染到在线画布中显示，提高性能\r\n      offCtx: null,\r\n      preCanvas: null, // 上一次框选结果画布\r\n      preCtx: null,\r\n\r\n      img: null,\r\n      drawing: false,\r\n      beginDrawPoint: null,\r\n      drawingPoint: null,\r\n      centerPoint: null,\r\n\r\n      rectWidthHeight: [],\r\n      regionDataUrl: '', //框选的dataUrl（base64）\r\n\r\n      canvasWidth :0,\r\n      canvasHeight :0,\r\n      regionResultList:[], // 框选结果列表\r\n      toPositionArray:['0,0,0,0'], //框选结果的坐标\r\n    };\r\n  },\r\n  computed: {\r\n    canvasStyle(){\r\n      return `width:${this.canvasWidth}px;height:${this.canvasHeight}px`;\r\n    }\r\n  },\r\n  watch: {\r\n    src:{\r\n      immediate:true,\r\n      handler(){\r\n        this.init();\r\n      }\r\n    }\r\n  },\r\n  created: function () {\r\n\r\n  },\r\n  mounted: function () {\r\n  },\r\n  methods: {\r\n    /**\r\n     * 初始化\r\n     * */\r\n    async init() {\r\n      this.reset();\r\n      if(!this.src){\r\n        return;\r\n      }\r\n\r\n      this.img = new Image();\r\n      this.platePosition = {};\r\n      // this.img.crossOrigin = 'Anonymous';\r\n      this.img.addEventListener('load', () => {\r\n        this.initCanvasWidthHeight();// 初始化画布宽高\r\n        this.$nextTick(()=>{\r\n          this.initCanvas();\r\n          this.getRegionPosition();\r\n        });\r\n      });\r\n      this.img.src = this.src;\r\n    },\r\n    /**\r\n     * 获取框选车牌的位置\r\n     */\r\n    getRegionPosition(){\r\n      if (!this.regionPosition)return;\r\n\r\n      if (this.regionPosition.plateRectLeft || this.regionPosition.plateRectTop) {\r\n        let top = Math.round((this.regionPosition.plateRectTop / this.regionPosition.picheight) * this.canvasHeight);\r\n        let left = Math.round((this.regionPosition.plateRectLeft / this.regionPosition.picwidth) * this.canvasWidth);\r\n        let width = Math.ceil((this.regionPosition.plateRectWidth / this.regionPosition.picwidth) * this.canvasWidth);\r\n        let height = Math.ceil((this.regionPosition.plateRectHeight / this.regionPosition.picheight) * this.canvasHeight);\r\n        this.platePosition = {\r\n          'top':top + 'px',\r\n          'left':left + 'px',\r\n          'width':width + 'px',\r\n          'height':height + 'px',\r\n          'border':'1px red solid'\r\n        };\r\n        return;\r\n      }\r\n\r\n      this.platePosition = null;\r\n    },\r\n    /**\r\n     * 重置data\r\n     * */\r\n    reset(){\r\n      this.canvas = null;// 在线画布\r\n      this.ctx = null;\r\n      this.offCanvas = null;// 离线画布\r\n      this.offCtx = null;\r\n      this.preCanvas = null;// 上一次框选结果画布\r\n      this.preCtx = null;\r\n\r\n      this.img = null;\r\n      this.drawing = false;\r\n      this.beginDrawPoint = null;\r\n      this.drawingPoint = null;\r\n      this.centerPoint = null;\r\n\r\n      this.rectWidthHeight = [];\r\n      this.regionDataUrl = '';//框选的dataUrl（base64）\r\n\r\n      this.canvasWidth = 0;\r\n      this.canvasHeight = 0;\r\n      this.regionResultList = []; // 框选结果列表\r\n      this.toPositionArray = ['0,0,0,0']; //框选的坐标\r\n      this.$emit('toPosition', this.toPositionArray);//更换图片时候，需要在传递一次值\r\n    },\r\n    /**\r\n     * 初始化画布宽高\r\n     * */\r\n    initCanvasWidthHeight(){\r\n      let imgWidth = this.img.width;\r\n      let imgHeight = this.img.height;\r\n      let imgRate = imgWidth / imgHeight;\r\n      let canvasRate = this.width / this.height;\r\n      if(imgRate > canvasRate){\r\n        // 图片比外框要扁，宽度设置为外框一致，高度按比例计算\r\n        let width = null;\r\n        if(imgWidth > this.width){\r\n          width = this.width;\r\n        }else{\r\n          width = imgWidth;\r\n        }\r\n        this.canvasWidth = width;\r\n        this.canvasHeight = width * imgHeight / imgWidth;\r\n      }else if(imgRate <= canvasRate){\r\n        // 图片比外框要瘦，高度设置为外框一致，宽度按比例计算\r\n        let height = null;\r\n        if(imgHeight > this.height){\r\n          height = this.height;\r\n        }else{\r\n          height = imgHeight;\r\n        }\r\n        this.canvasWidth = height * imgWidth / imgHeight;\r\n        this.canvasHeight = height;\r\n      }\r\n    },\r\n    /**\r\n     * 初始化画布\r\n     * */\r\n    initCanvas(){\r\n      this.canvas = document.getElementById('canvas');\r\n      this.ctx = this.canvas.getContext('2d');\r\n\r\n      this.offCanvas = document.createElement('canvas');\r\n      this.offCanvas.width = this.canvasWidth;\r\n      this.offCanvas.height = this.canvasHeight;\r\n      this.offCtx = this.offCanvas.getContext('2d');\r\n      this.offCtx.strokeStyle = '#ee5051';\r\n      this.offCtx.lineWidth = 2;\r\n      this.offCtx.drawImage(this.img, 0, 0, this.offCanvas.width, this.offCanvas.height);\r\n\r\n      this.drawToRealCanvasFromOffCanvas();\r\n      // 是否初始化放大某个点\r\n      if(this.isInit){\r\n        this.centerPoint = [250, 250 ];\r\n        this.getMagnifyImage();\r\n      }\r\n    },\r\n    /**\r\n     *                 drawing:false,\r\n     beginDrawPoint:0,\r\n     drawingPoint:0,\r\n     */\r\n    mousedown(e) {\r\n      if(this.isHoverTrigger){\r\n        return;\r\n      }\r\n\r\n      this.drawing = true;\r\n      this.beginDrawPoint = [e.offsetX, e.offsetY];\r\n    },\r\n    mousemove(e) {\r\n      if(this.isHoverTrigger){\r\n        this.centerPoint = [e.offsetX, e.offsetY ];\r\n        this.getMagnifyImage('center');\r\n        return;\r\n      }\r\n\r\n      if (this.drawing) {\r\n        this.drawingPoint = [e.offsetX, e.offsetY];\r\n        this.draw();\r\n      }\r\n    },\r\n    mouseup(e) {\r\n      if(this.isHoverTrigger){\r\n        return;\r\n      }\r\n\r\n      this.drawingPoint = [e.offsetX, e.offsetY];\r\n      if (this.drawing) {\r\n        this.drawing = false;\r\n        this.draw(true);\r\n        if (this.beginDrawPoint[0] === this.drawingPoint[0] && this.beginDrawPoint[1] === this.drawingPoint[1]) {\r\n          this.beginDrawPoint = null;\r\n          this.drawingPoint = null;\r\n          this.regionDataUrl = '';\r\n        } else {\r\n          this.getMagnifyImage();\r\n        }\r\n      }\r\n    },\r\n    //获取框选的原图图片\r\n    getMagnifyImage() {\r\n      let [tempCanvas, tempBeginPoint] = this.getTempCanvas();\r\n      let tempCtx = tempCanvas.getContext('2d');\r\n      tempCtx.drawImage(\r\n        this.img,\r\n        ...tempBeginPoint,\r\n        tempCanvas.width,\r\n        tempCanvas.height,\r\n        0,\r\n        0,\r\n        tempCanvas.width,\r\n        tempCanvas.height\r\n      );\r\n      this.getBeginEndPoint(tempCanvas, tempBeginPoint);\r\n      this.regionDataUrl = tempCanvas.toDataURL();\r\n      this.regionResultList.push(this.regionDataUrl);\r\n      this.$emit('region', this.regionResultList);\r\n    },\r\n    /**\r\n     * 获取起始点结束点\r\n     * */\r\n    getBeginEndPoint(tempCanvas, tempBeginPoint){\r\n      if(!tempCanvas || !tempBeginPoint){\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < tempBeginPoint.length; i++){\r\n        tempBeginPoint[i] = parseInt(tempBeginPoint[i]);\r\n      }\r\n      let tempBeginPointString = tempBeginPoint.join(',');\r\n      let tempEndPointString = parseInt((tempBeginPoint[0] + tempCanvas.width)) +\r\n        ',' +\r\n        parseInt(tempBeginPoint[1] + tempCanvas.height);\r\n      let toPosition = tempBeginPointString + ',' + tempEndPointString;\r\n      this.toPositionArray.push(toPosition);\r\n      this.$emit('toPosition', this.toPositionArray);\r\n    },\r\n    /**\r\n     * 获取框选的图片的临时画布\r\n     * @return\r\n     * {\r\n        canvas:tempCanvas,\r\n        tempCanvasBeginPoint:tempBeginPoint\r\n      }\r\n     * */\r\n    getTempCanvas(){\r\n      // 矩形中心点离右上角的偏移量\r\n      const OFFSET = [285, 245];\r\n      let tempCanvas = document.createElement('canvas');// 临时画布，放置框选的原图\r\n      let rate = this.img.width / this.offCanvas.width;\r\n      let rectWidthHeight = [];\r\n      let tempBeginPoint = [];\r\n      let tempEndPoint = [];\r\n      if(this.isHoverTrigger){\r\n        // 鼠标hover就触发放大图片的模式下\r\n        for (let i = 0; i < this.centerPoint.length; i++) {\r\n          tempBeginPoint[i] = this.centerPoint[i] * rate - OFFSET[i];\r\n        }\r\n        rectWidthHeight = [OFFSET[0] * 2, OFFSET[1] * 2];\r\n      }else{\r\n        // 鼠标框选才触发放大图片的模式下\r\n        for (let i = 0; i < this.drawingPoint.length; i++) {\r\n          tempBeginPoint[i] = this.beginDrawPoint[i] * rate;\r\n          tempEndPoint[i] = this.drawingPoint[i] * rate;\r\n        }\r\n        // 获取矩形宽高\r\n        for (let i = 0; i < tempBeginPoint.length; i++) {\r\n          rectWidthHeight[i] = Math.abs(tempEndPoint[i] - tempBeginPoint[i]);\r\n        }\r\n        let offsetX = tempEndPoint[0] - tempBeginPoint[0];\r\n        let offsetY = tempEndPoint[1] - tempBeginPoint[1];\r\n        if(offsetX * offsetY >= 0){\r\n          if(offsetX < 0){\r\n            [tempBeginPoint, tempEndPoint] = [tempEndPoint, tempBeginPoint];\r\n          }\r\n        }else{\r\n          if(offsetX > 0){\r\n            tempBeginPoint[1] = tempBeginPoint[1] - rectWidthHeight[1];\r\n          }else{\r\n            tempBeginPoint[0] = tempBeginPoint[0] - rectWidthHeight[0];\r\n          }\r\n        }\r\n      }\r\n      tempCanvas.width = rectWidthHeight[0];\r\n      tempCanvas.height = rectWidthHeight[1];\r\n      return [tempCanvas, tempBeginPoint];\r\n    },\r\n    /**\r\n     * 画框框\r\n     * @param isEnd 框选结束\r\n     * */\r\n    draw(isEnd) {\r\n      if(this.preCanvas){\r\n        this.offCtx.drawImage(this.preCanvas, 0, 0, this.offCanvas.width, this.offCanvas.height);\r\n      }else{\r\n        this.offCtx.drawImage(this.img, 0, 0, this.offCanvas.width, this.offCanvas.height);\r\n      }\r\n      let rectWidthHeight = [];\r\n      for (let i = 0; i < this.drawingPoint.length; i++) {\r\n        rectWidthHeight[i] = this.drawingPoint[i] - this.beginDrawPoint[i];\r\n      }\r\n      this.rectWidthHeight = rectWidthHeight;\r\n      this.offCtx.strokeRect(...this.beginDrawPoint, ...rectWidthHeight);\r\n      this.drawToRealCanvasFromOffCanvas();\r\n\r\n      if(isEnd && this.isMultiSelecter){\r\n        if(!this.preCanvas){\r\n          this.preCanvas = document.createElement('canvas');\r\n          this.preCanvas.width = this.canvasWidth;\r\n          this.preCanvas.height = this.canvasHeight;\r\n          this.preCtx = this.preCanvas.getContext('2d');\r\n          this.preCtx.strokeStyle = '#ee5051';\r\n          this.preCtx.strokeWidth = 2;\r\n        }\r\n        this.preCtx.drawImage(this.offCanvas, 0, 0);\r\n      }\r\n    },\r\n    clear() {\r\n      this.offCtx.drawImage(this.img, 0, 0, this.offCanvas.width, this.offCanvas.height);\r\n      this.beginDrawPoint = null;\r\n      this.drawingPoint = null;\r\n      this.regionResultList = [];\r\n      this.preCanvas = null;\r\n      this.preCtx = null;\r\n      this.drawToRealCanvasFromOffCanvas();\r\n      // this.reset();\r\n    },\r\n    /**\r\n     * 将离线画布渲染到在线画布\r\n     */\r\n    drawToRealCanvasFromOffCanvas(){\r\n      this.ctx.drawImage(this.offCanvas, 0, 0);\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<!-- Add 'scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"less\">\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection-picture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selection-picture.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selection-picture.vue?vue&type=template&id=cdea7078&scoped=true&\"\nimport script from \"./selection-picture.vue?vue&type=script&lang=js&\"\nexport * from \"./selection-picture.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cdea7078\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n放大镜大图弹窗\r\ndemo:demo/view-pic-dialog-demo.vue\r\n:visible.sync=\"bigPicVisible\"\r\ntrue\r\n:index=\"index\"\r\nNumber\r\n:list=\"tableData\"\r\n[\r\n  {\r\n    src: carPic,\r\n    license:'粤222222',\r\n    passTime:'2019-07-7 14:30:46',\r\n    bayonet:'石星路与路口',\r\n    carBrand: '品牌',\r\n    carColor:'黑色',\r\n    carType:'卡车'\r\n  },\r\n  {\r\n    src: carPic,\r\n    license:'粤222233',\r\n    passTime:'2019-07-7 14:30:46',\r\n    bayonet:'石星路与路口',\r\n    carBrand: '卡车',\r\n    carColor:'黑色',\r\n    carType:'卡车'\r\n  },\r\n]\r\n -->\r\n<template>\r\n  <el-dialog\r\n    class=\"common-table view-pic-dialog\"\r\n    title=\"查看图片\"\r\n    width=\"1200px\"\r\n    :visible.sync=\"dialogVisible\"\r\n    @close=\"cancel\"\r\n  >\r\n    <div class=\"content\">\r\n      <div class=\"pic-wrapper\">\r\n        <!--:src=\"getImg(currentItem && currentItem['secondPicPath'])\"-->\r\n        <selection-picture\r\n          :src=\"currentItem && currentItem['src']\"\r\n          :region-position=\"currentItem\"\r\n          :is-hover-trigger=\"true\"\r\n          :width=\"570\"\r\n          :height=\"509\"\r\n          :target-width=\"570\"\r\n          :is-init=\"true\"\r\n        />\r\n      </div>\r\n      <div class=\"info\">\r\n        <ul class=\"info-list clearfix\">\r\n          <li\r\n            v-if=\"nonMotorLayout === 'nonMotor'\"\r\n            class=\"info-item\"\r\n          >\r\n            <span class=\"info-title\">车辆类型：</span>\r\n            <span>{{ currentItem.vehicleType }}</span>\r\n          </li>\r\n          <li\r\n            v-if=\"nonMotorLayout === 'all'\"\r\n            class=\"info-item\"\r\n          >\r\n            <span class=\"info-title\">车牌号码：</span>\r\n            <span>{{ currentItem.plateNumber }}</span>\r\n          </li>\r\n          <li\r\n            v-if=\"nonMotorLayout === 'nonMotor' || nonMotorLayout === 'all'\"\r\n            class=\"info-item\"\r\n          >\r\n            <span class=\"info-title\">过车时间：</span>\r\n            <span>{{ currentItem.passTime }}</span>\r\n          </li>\r\n          <li\r\n            v-if=\"nonMotorLayout === 'nonMotor' || nonMotorLayout === 'all'\"\r\n            class=\"info-item\"\r\n          >\r\n            <span class=\"info-title\">点位：</span>\r\n            <span :title=\"currentItem.passPortName\">{{ util.beyondShowDot(currentItem.passPortName, 20) }}</span>\r\n          </li>\r\n          <li\r\n            v-if=\"nonMotorLayout === 'all'\"\r\n            class=\"info-item\"\r\n          >\r\n            <span class=\"info-title\">车辆品牌：</span>\r\n            <span>{{ currentItem.brandName }} </span>\r\n          </li>\r\n          <li\r\n            v-if=\"nonMotorLayout === 'all'\"\r\n            class=\"info-item\"\r\n          >\r\n            <span class=\"info-title\">车身颜色：</span>\r\n            <span\r\n              class=\"color-block\"\r\n              style=\"background-color: #fff\"\r\n            />\r\n            <span />\r\n          </li>\r\n          <li\r\n            v-if=\"nonMotorLayout === 'all'\"\r\n            class=\"info-item\"\r\n          >\r\n            <span class=\"info-title\">车辆类型：</span>\r\n            <span>{{ currentItem.vehicleType }}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <footer\r\n      v-if=\"isShowFooter\"\r\n      class=\"footer\"\r\n    >\r\n      <el-button\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n        @click=\"prev\"\r\n      >\r\n        上一条\r\n      </el-button>\r\n      <el-button\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n        @click=\"next\"\r\n      >\r\n        下一条\r\n      </el-button>\r\n      <el-button\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n      >\r\n        以图搜车\r\n      </el-button>\r\n      <el-button\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n      >\r\n        下载图片\r\n      </el-button>\r\n      <el-button\r\n        v-if=\"!unreal\"\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n      >\r\n        违章检测\r\n      </el-button>\r\n      <el-button\r\n        v-if=\"!isTrack\"\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n      >\r\n        轨迹重现\r\n      </el-button>\r\n      <el-button\r\n        v-if=\"unreal\"\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n      >\r\n        加入假套牌车库\r\n      </el-button>\r\n      <el-button\r\n        v-if=\"unreal\"\r\n        class=\"footer-btn\"\r\n        type=\"primary\"\r\n      >\r\n        布控详情\r\n      </el-button>\r\n    </footer>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport SelectionPicture from './selection-picture';\r\nimport carColor from './car_color.json';\r\nimport { util } from '../../js/tools/util';\r\n\r\n/**\r\n * <view-pic-dialog\r\n :list=\"list\"\r\n />\r\n list:[\r\n {\r\n               car: '/resource/images/common/1.png',\r\n          license:'粤222222',\r\n          passTime:'2019-07-7 14:30:46',\r\n          bayonet:'石星路与路口',\r\n          carBrand: '品牌',\r\n          carColor:'黑色',\r\n          carType:'卡车'\r\n        },\r\n {\r\n          car: '/resource/images/common/1.png',\r\n          license:'粤222222',\r\n          passTime:'2019-07-7 14:30:46',\r\n          bayonet:'石星路与路口',\r\n          carBrand: '卡车',\r\n          carColor:'黑色',\r\n          carType:'卡车'\r\n        },\r\n ]\r\n */\r\nexport default {\r\n  name: 'ViewPicDialog',\r\n  components: {SelectionPicture},\r\n  props:{\r\n    'list':{\r\n      type:Array,\r\n      default: null\r\n    },\r\n    'index':{\r\n      type: Number,\r\n      default:0\r\n    },\r\n    'visible':{\r\n      type:Boolean,\r\n      default:false\r\n    },\r\n    'unreal': {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    'isTrack': {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 非机动车样式 为 nonMotor\r\n    nonMotorLayout:{\r\n      type:String,\r\n      default:'all'\r\n    },\r\n    isShowFooter:{\r\n      type:Boolean,\r\n      default:true\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      util:util,\r\n      dialogVisible: false,\r\n      currentIndex: 0,\r\n      carColor: carColor, //车身颜色\r\n      regionPosition:null,\r\n    };\r\n  },\r\n  computed:{\r\n    currentItem(){\r\n      if(!this.list)return {};\r\n\r\n      return this.list[this.currentIndex] || {};\r\n    },\r\n  },\r\n  watch:{\r\n    visible:{\r\n      immediate:true,\r\n      handler(){\r\n        this.dialogVisible = this.visible;\r\n\r\n      }\r\n    },\r\n    index(){\r\n      this.currentIndex = this.index;\r\n    },\r\n  },\r\n  mounted(){\r\n    this.init();\r\n  },\r\n  methods:{\r\n    init(){\r\n      if(!this.list || !this.list.length){\r\n        return;\r\n      }\r\n\r\n      this.currentIndex = this.index;\r\n    },\r\n    prev(){\r\n      if(!this.list){\r\n        return;\r\n      }\r\n\r\n      if(this.currentIndex === 0){\r\n        return;\r\n      }\r\n\r\n      this.currentIndex --;\r\n    },\r\n    next(){\r\n      if(!this.list){\r\n        return;\r\n      }\r\n\r\n      if(this.currentIndex === this.list.length - 1){\r\n        return;\r\n      }\r\n\r\n      this.currentIndex ++;\r\n    },\r\n    cancel(){\r\n      this.$emit('update:visible', false);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  @import \"./view-pic-dialog.less\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-pic-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-pic-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./view-pic-dialog.vue?vue&type=template&id=352a7a8e&scoped=true&\"\nimport script from \"./view-pic-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./view-pic-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./view-pic-dialog.vue?vue&type=style&index=0&id=352a7a8e&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"352a7a8e\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n放大镜大图弹窗demo\r\n -->\r\n<template>\r\n  <div>\r\n    <view-pic-dialog\r\n      :visible.sync=\"bigPicVisible\"\r\n      :index=\"index\"\r\n      :list=\"tableData\"\r\n    />\r\n    <div>\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"bigPicVisible = !bigPicVisible\"\r\n      >\r\n        显示弹窗\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ViewPicDialog from '../src/public/view-pic-dialog/view-pic-dialog';\r\nimport carPic from './img/car.jpg';\r\nexport default {\r\n  name: 'ViewPicDialogDemo',\r\n  components: {ViewPicDialog},\r\n  data(){\r\n    return {\r\n      bigPicVisible:false,\r\n      index:0,\r\n      tableData:[\r\n        {\r\n          src: carPic,\r\n          license:'粤222222',\r\n          passTime:'2019-07-7 14:30:46',\r\n          bayonet:'石星路与路口',\r\n          carBrand: '品牌',\r\n          carColor:'黑色',\r\n          carType:'卡车'\r\n        },\r\n        {\r\n          src: carPic,\r\n          license:'粤222233',\r\n          passTime:'2019-07-7 14:30:46',\r\n          bayonet:'石星路与路口',\r\n          carBrand: '卡车',\r\n          carColor:'黑色',\r\n          carType:'卡车'\r\n        },\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-pic-dialog-demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-pic-dialog-demo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./view-pic-dialog-demo.vue?vue&type=template&id=7e90af9f&scoped=true&\"\nimport script from \"./view-pic-dialog-demo.vue?vue&type=script&lang=js&\"\nexport * from \"./view-pic-dialog-demo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e90af9f\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/car.d58a7d1f.jpg\";"],"sourceRoot":""}