(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b913cbc"],{"6d46":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("div",[r("el-select",{on:{change:e.setMap},model:{value:e.areaId,callback:function(t){e.areaId=t},expression:"areaId"}},e._l(e.areaSet,(function(e){return r("el-option",{key:e.value,attrs:{value:e.value,label:e.labal}})})),1)],1),r("div",{staticClass:"map",attrs:{id:"map"}})])},i=[],o=(r("7db0"),r("b85c")),n=r("2ef0"),s=r.n(n),c=(r("5bc0"),r("5eee")),p=r("a2c7"),l=r("d0e9"),u=r("0af5"),m=r("7fc9"),h=r("38f3"),d=r("345d"),f=r("91b1"),v=r("2c30");function b(e,t){var r=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&r.push(e+"="+encodeURIComponent(t[e]))}));var a=r.join("&");return e=e.replace(/[?&]$/,""),e=-1===e.indexOf("?")?e+"?":e+"&",e+a}var y=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),g=function(e){function t(t){var r=this,a=t||{};return r=e.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,tileUrlFunction:_,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX||a.wrapX,transition:a.transition})||this,r.params_=a.params||{},r.hidpi_=void 0===a.hidpi||a.hidpi,r.tmpExtent_=Object(u["j"])(),r.setKey(r.getKeyForParams_()),r}return y(t,e),t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,r,a,i,o){var n=this.urls;if(n){var s,c=i.getCode().split(":").pop();if(o["SIZE"]=t[0]+","+t[1],o["BBOX"]=r.join(","),o["BBOXSR"]=c,o["IMAGESR"]=c,o["DPI"]=Math.round(o["DPI"]?o["DPI"]*a:90*a),1==n.length)s=n[0];else{var p=Object(m["d"])(Object(v["e"])(e),n.length);s=n[p]}var l=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return b(l,o)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_?e:1},t.prototype.updateParams=function(e){Object(h["a"])(this.params_,e),this.setKey(this.getKeyForParams_())},t}(f["a"]);function _(e,t,r){var a=this.getTileGrid();if(a||(a=this.getTileGridForProjection(r)),!(a.getResolutions().length<=e[0])){1==t||this.hidpi_||(t=1);var i=a.getTileCoordExtent(e,this.tmpExtent_),o=Object(d["c"])(a.getTileSize(e[0]),this.tmpSize);1!=t&&(o=Object(d["b"])(o,t,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(h["a"])(n,this.params_),this.getRequestUrl_(e,o,i,t,r,n)}}var j=g,O=r("2ef1"),M=r("480c"),S=(r("256f"),{name:"MapLoadDemo",data:function(){return{areaId:"xiamenFromPoliceVideo",areaSet:[{value:"chongqingFromJimeiVideo",labal:"重庆(集美视频网服务器）",urls:["http://192.168.212.157:3000/mapGisCQ/mapImage?base=base&imgFormat=png&z={z}&x={x}&y={y}"],zoom:13,center:[106.261435,29.311821],mapType:l["a"]},{value:"xiamenFromJimeiVideo",labal:"厦门(集美视频网服务器）",urls:["http://192.168.212.157:3000/arcgis/rest/services/XMJM_2000/MapServer","http://192.168.212.157:3000/arcgis/rest/services/XMMAP_CVA_C2000/MapServer"],zoom:13,center:[118.0934,24.5418],mapType:j},{value:"xiamenSatelliteFromJimeiVideo",labal:"厦门卫星图(集美视频网服务器）",urls:["http://192.168.212.157:3000/arcgis/rest/services/XMMAP_2000/MapServer","http://192.168.212.157:3000/arcgis/rest/services/XMMAP_CVA_C2000/MapServer"],zoom:13,center:[118.0934,24.5418],mapType:j},{value:"xiamenFromPoliceVideo",labal:"厦门(市局视频网服务器）",urls:["http://35.48.98.202:7000/mapImageServer/showElecPic?imgFormat=png&x={x}&y={y}&z={z}"],zoom:13,center:[118.0934,24.5418],mapType:O["a"]}],mapObject:null,layers:[]}},computed:{area:function(){return s.a.find(this.areaSet,{value:this.areaId})}},mounted:function(){this.$emit("setCode","/demo/map-load-demo.vue"),this.$emit("setInfo","<p>厦门、重庆地图瓦片加载 (demo/map-load-demo.vue)</p>\n      <p>该demo瓦片在视频网环境下</p>\n    "),this.initMap(),this.setMap()},methods:{initMap:function(){var e=new c["a"]({target:"map"});this.mapObject=e},setMap:function(){if(this.layers.length>0){var e,t=Object(o["a"])(this.layers);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.mapObject.removeLayer(r)}}catch(c){t.e(c)}finally{t.f()}this.layers=[]}var a,i=Object(o["a"])(this.area.urls);try{for(i.s();!(a=i.n()).done;){var n=a.value,s=new M["a"]({source:new this.area.mapType({url:n})});this.layers.push(s),this.mapObject.addLayer(s)}}catch(c){i.e(c)}finally{i.f()}this.view=new p["a"]({center:this.area.center,zoom:this.area.zoom,minZoom:9,maxZoom:19,popupOffset:[0,0],projection:"EPSG:4326"}),this.mapObject.setView(this.view)}}}),P=S,w=(r("a766"),r("2877")),x=Object(w["a"])(P,a,i,!1,null,"37fdc905",null);t["default"]=x.exports},"7db0":function(e,t,r){"use strict";var a=r("23e7"),i=r("b727").find,o=r("44d2"),n=r("ae40"),s="find",c=!0,p=n(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!p},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},9819:function(e,t,r){},a766:function(e,t,r){"use strict";var a=r("9819"),i=r.n(a);i.a}}]);
//# sourceMappingURL=chunk-1b913cbc.e1efae9b.js.map